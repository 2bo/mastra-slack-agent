---
description: Changesを分析して、Conventional Commits形式でコミットメッセージを生成し、コミットします
---

このワークフローは、現在変更されているファイルを分析し、Conventional Commits仕様に基づいた適切なコミットを作成するための手順です。

### 手順

1. **現状の確認**
   - `git status` を実行し、変更されたファイル一覧を確認してください。
   - `git diff` (ステージングされていない変更) または `git diff --staged` (ステージング済みの変更) を実行し、具体的な変更内容を把握してください。

2. **変更内容の分析と安全性チェック (CRITICAL)**
   - **機密情報の確認**: 追加・変更されたコードに APIキー、パスワード、認証トークンなどの機密情報が含まれていないか必ず確認してください。もし含まれている場合は、**絶対にコミットせず**、直ちにユーザーに報告し、`.gitignore` への追加などを提案してください。
   - **Atomic Commitの検討**: 変更内容が複数の異なる目的（例: 「機能Aの追加」と「バグBの修正」）を含んでいないか確認してください。もし含まれている場合は、別々のコミットに分割することをユーザーに提案してください。今回は単一の論理的変更であると判断できる場合、またはユーザーが一括コミットを望んでいる場合のみ進んでください。

3. **コミットメッセージの作成**
   - 以下の [Conventional Commits](https://www.conventionalcommits.org/) 形式に従ってメッセージを作成してください。

   ```
   <type>(<scope>): <description>

   [optional body]

   [optional footer(s)]
   ```

   - **Types**:
     - `feat`: 新機能
     - `fix`: バグ修正
     - `docs`: ドキュメントのみの変更
     - `style`: コードの動作に影響しない変更（空白、フォーマットなど）
     - `refactor`: バグ修正も機能追加も行わないコード変更
     - `perf`: パフォーマンス改善
     - `test`: テストの追加・修正
     - `chore`: ビルドプロセスやドキュメント生成などの補助ツールやライブラリの変更
   - **Scope**: 変更されたファイルやモジュール名（例: `calendar`, `auth`, `ui`）。省略可能ですが、明確な場合は付与してください。
   - **Description**: 変更内容を簡潔に（日本語で）記述してください。

4. **コミットの実行**
   - 変更内容とコミットメッセージが適切であれば、以下のコマンドを実行します。
   - まだステージングされていないファイルがあり、それらを全て含める意図がある場合は `git add .` を実行します。特定のファイルのみ対象にする場合は `git add <file>` を使用します。
   - `git commit -m "作成したメッセージ"` を実行します。

5. **完了通知**
   - コミットが完了したら、コミットハッシュとメッセージをユーザーに伝えてください。

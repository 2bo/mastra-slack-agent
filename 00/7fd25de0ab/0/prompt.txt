SLACK_BOT_TOKEN=
SLACK_SIGNING_SECRET=
SLACK_APP_TOKEN=
ã£ã¦slackã®ãƒšãƒ¼ã‚¸ã®ã©ã“ã¿ã‚Œã°ã„ã„ã®ï¼Ÿ

---

App-level tokenã£ã¦ãªã«ï¼Ÿï¼Ÿ

---

- Socket Mode ã‚’ä½¿ã†å ´åˆã«å¿…è¦ã§ã™ï¼ˆã‚¹ã‚³ãƒ¼ãƒ—ã« connections:write ã‚’è¿½åŠ ï¼‰
ã£ã¦readmeã«ã‹ã„ã¦ã‚ã‚‹ï¼Ÿï¼Ÿ

---

devã§èµ·å‹•ã—ãŸã„

---

å®Ÿè¡Œã—ãŸã‚“ã ã‘ã©ã€ã†ã‚“ã¨ã‚‚ã™ã‚“ã¨ã‚‚

---

ã„ã‚„ã€slackã‹ã‚‰å®Ÿè¡Œã„ï½“ãŸã„

---

$ npm run dev:slack                

> mastra-slack-agent@1.0.0 dev:slack
> tsx --watch src/index.ts

Starting Mastra Slack Agent...
[WARN]  bolt-app Socket Mode is not turned on.
âš¡ï¸ Slack Bolt app is running in Socket Mode!
ğŸš€ Application is ready!

---

bolt-app Socket Mode is not turned on.

---

SLACK_SOCKET_MODE=true

---

åå¿œãªã„

---

ãƒ­ã‚°è¿½åŠ ã—ã¦

---

$ npm run dev:slack

> mastra-slack-agent@1.0.0 dev:slack
> tsx --watch src/index.ts

Starting Mastra Slack Agent...
SLACK_SOCKET_MODE: true
SLACK_APP_TOKEN: set
SLACK_BOT_TOKEN: set
[WARN]  bolt-app Socket Mode is not turned on.
âš¡ï¸ Slack Bolt app is running in Socket Mode!
ğŸš€ Application is ready!

---

[Request interrupted by user for tool use]

---

slack appå´ã®è¨­å®šã®ã›ã„ã‹ãªï¼Ÿï¼Ÿ

---

Enable Socket Modeã®æ‰‹é †READMEã«ã‹ã„ã¦ãªã„ã‚ˆã­ï¼Ÿè¿½è¨˜ã—ã¦

---

readmeã®å¤‰æ›´ã ã‘ã‚³ãƒŸãƒƒãƒˆã—ã¦

---

Base directory for this skill: /Users/kota/workspace/github.com/kota/mastra-slack-agent/.claude/skills/smart-commit

# Smart Commit

ã‚³ãƒŸãƒƒãƒˆã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«å¾“ã„ã€Conventional Commits ä»•æ§˜ã«æº–æ‹ ã—ãŸé«˜å“è³ªãªã‚³ãƒŸãƒƒãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚

## Instructions

ã‚³ãƒŸãƒƒãƒˆã‚’ä½œæˆã™ã‚‹éš›ã¯ã€ä»¥ä¸‹ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’å¿…ãšå®Ÿè¡Œã—ã¦ãã ã•ã„:

### 1. å¤‰æ›´å†…å®¹ã®åˆ†æ

```bash
git status
git diff --staged
```

- ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã•ã‚ŒãŸå¤‰æ›´ã‚’ç¢ºèª
- æœªã‚¹ãƒ†ãƒ¼ã‚¸ã®å¤‰æ›´ã‚‚ç¢ºèª
- å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’è«–ç†çš„ã«ã‚°ãƒ«ãƒ¼ãƒ—åŒ–

### 2. Atomic Commits ã®åŸå‰‡

**å¿…ãšå®ˆã‚‹ã¹ããƒ«ãƒ¼ãƒ«:**

- âœ… **1ã¤ã®ã‚³ãƒŸãƒƒãƒˆ = 1ã¤ã®è«–ç†çš„ãªå¤‰æ›´å˜ä½**
  - å˜ä¸€ã®æ©Ÿèƒ½è¿½åŠ ã€ãƒã‚°ä¿®æ­£ã€ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãªã©
  - ã‚³ãƒŸãƒƒãƒˆå¾Œã‚‚ã‚³ãƒ¼ãƒ‰ãŒå®Ÿè¡Œå¯èƒ½ãªçŠ¶æ…‹ã‚’ä¿ã¤
  - ãƒ†ã‚¹ãƒˆãŒé€šã‚‹çŠ¶æ…‹ã‚’ç¶­æŒ

- âœ… **ç•°ãªã‚‹é–¢å¿ƒäº‹ã¯åˆ†å‰²ã™ã‚‹**
  - ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¤‰æ›´ã¨ãƒ­ã‚¸ãƒƒã‚¯å¤‰æ›´ã¯åˆ¥ã‚³ãƒŸãƒƒãƒˆ
  - è¤‡æ•°ã®æ©Ÿèƒ½ã¯åˆ¥ã‚³ãƒŸãƒƒãƒˆ
  - ä¾å­˜é–¢ä¿‚ã®ãªã„å¤‰æ›´ã¯åˆ¥ã‚³ãƒŸãƒƒãƒˆ

- âœ… **git add -p ã‚’æ´»ç”¨**
  - 1ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«è¤‡æ•°ã®è«–ç†çš„å¤‰æ›´ãŒã‚ã‚‹å ´åˆ
  - ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã«å¤‰æ›´ã‚’é¸æŠã—ã¦ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°

**åˆ†å‰²ãŒå¿…è¦ãªä¾‹:**
```
âŒ Bad: "Update auth and fix CSS"
âœ… Good:
  - Commit 1: "feat(auth): add password reset functionality"
  - Commit 2: "fix(ui): correct button alignment on login page"
```

### 3. Conventional Commits ä»•æ§˜

**ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ:**
```
<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

**å¿…é ˆè¦ç´ :**

- **type**: å¤‰æ›´ã®ç¨®é¡ï¼ˆå¿…é ˆï¼‰
  - `feat`: æ–°æ©Ÿèƒ½
  - `fix`: ãƒã‚°ä¿®æ­£
  - `docs`: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã¿ã®å¤‰æ›´
  - `style`: ã‚³ãƒ¼ãƒ‰ã®æ„å‘³ã«å½±éŸ¿ã—ãªã„å¤‰æ›´ï¼ˆç©ºç™½ã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã€ã‚»ãƒŸã‚³ãƒ­ãƒ³ãªã©ï¼‰
  - `refactor`: ãƒã‚°ä¿®æ­£ã‚„æ©Ÿèƒ½è¿½åŠ ã§ã¯ãªã„ã‚³ãƒ¼ãƒ‰å¤‰æ›´
  - `perf`: ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„
  - `test`: ãƒ†ã‚¹ãƒˆã®è¿½åŠ ã‚„ä¿®æ­£
  - `build`: ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã‚„å¤–éƒ¨ä¾å­˜é–¢ä¿‚ã®å¤‰æ›´ï¼ˆnpm, webpack ãªã©ï¼‰
  - `ci`: CIè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚„ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å¤‰æ›´
  - `chore`: ãã®ä»–ã®å¤‰æ›´ï¼ˆ.gitignore ãªã©ï¼‰
  - `revert`: ä»¥å‰ã®ã‚³ãƒŸãƒƒãƒˆã®å–ã‚Šæ¶ˆã—

- **description**: ç°¡æ½”ãªèª¬æ˜ï¼ˆ50æ–‡å­—ä»¥å†…æ¨å¥¨ï¼‰
  - ç¾åœ¨å½¢ã®å‘½ä»¤å½¢ã‚’ä½¿ç”¨ï¼ˆ"add" not "added"ï¼‰
  - æœ€åˆã®æ–‡å­—ã¯å°æ–‡å­—
  - æœ«å°¾ã«ãƒ”ãƒªã‚ªãƒ‰ã‚’ä»˜ã‘ãªã„

- **scope** (ã‚ªãƒ—ã‚·ãƒ§ãƒ³): å½±éŸ¿ç¯„å›²
  - `(auth)`, `(api)`, `(ui)`, `(db)` ãªã©

**Bodyï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰:**
- å¤‰æ›´ã®å‹•æ©Ÿã¨ä»¥å‰ã®å‹•ä½œã¨ã®å¯¾æ¯”ã‚’èª¬æ˜
- description ã‹ã‚‰1è¡Œç©ºã‘ã‚‹
- 72æ–‡å­—ã§æŠ˜ã‚Šè¿”ã™

**Footerï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰:**
- `BREAKING CHANGE:` ç ´å£Šçš„å¤‰æ›´ã®èª¬æ˜
- `Closes #123` ã‚¤ã‚·ãƒ¥ãƒ¼ã®å‚ç…§

**ä¾‹:**
```
feat(auth): add OAuth2 authentication

Implement OAuth2 flow with Google and GitHub providers.
This replaces the basic auth system to improve security
and user experience.

BREAKING CHANGE: Basic auth endpoints have been removed.
Users must migrate to OAuth2.

Closes #456
```

### 4. ã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«æ¤œå‡º

**ã‚³ãƒŸãƒƒãƒˆå‰ã«å¿…ãšãƒã‚§ãƒƒã‚¯:**

- âŒ **çµ¶å¯¾ã«ã‚³ãƒŸãƒƒãƒˆã—ã¦ã¯ã„ã‘ãªã„ã‚‚ã®:**
  - API ã‚­ãƒ¼ã€ãƒˆãƒ¼ã‚¯ãƒ³ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰
  - `.env` ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ.gitignoreã«è¿½åŠ ï¼‰
  - `config.yml` ã‚„è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å†…ã®èªè¨¼æƒ…å ±
  - ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã‚­ãƒ¼ï¼ˆSSHã€SSLè¨¼æ˜æ›¸ãªã©ï¼‰
  - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šæ–‡å­—åˆ—
  - AWS credentials, GCP service account keys

- âœ… **æ¤œå‡ºãƒ‘ã‚¿ãƒ¼ãƒ³:**
  ```bash
  # ã‚³ãƒŸãƒƒãƒˆå‰ã«ä»¥ä¸‹ã‚’ãƒã‚§ãƒƒã‚¯
  git diff --staged | grep -E '(API_KEY|SECRET|PASSWORD|TOKEN|credentials)'
  ```

- âš ï¸ **ã‚‚ã—è¦‹ã¤ã‹ã£ãŸå ´åˆ:**
  1. å³åº§ã«ã‚³ãƒŸãƒƒãƒˆã‚’ä¸­æ­¢
  2. è©²å½“ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ .gitignore ã«è¿½åŠ 
  3. ç’°å¢ƒå¤‰æ•°ã‚„è¨­å®šç®¡ç†ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨
  4. ã™ã§ã«ã‚³ãƒŸãƒƒãƒˆã—ã¦ã—ã¾ã£ãŸå ´åˆã¯ã€å³åº§ã«ã‚­ãƒ¼ã‚’ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³

**æ¨å¥¨ã•ã‚Œã‚‹ä¿è­·æ‰‹æ®µ:**
- `.gitignore` ã§æ©Ÿå¯†ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é™¤å¤–
- ç’°å¢ƒå¤‰æ•°ï¼ˆ`.env.example` ã®ã¿ã‚³ãƒŸãƒƒãƒˆï¼‰
- git-secrets ã‚„ detect-secrets ãªã©ã®ãƒ„ãƒ¼ãƒ«å°å…¥

### 5. ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

**DO:**
- âœ… å¤‰æ›´ã®ã€Œãªãœã€ã‚’èª¬æ˜ï¼ˆã€Œä½•ã‚’ã€ã¯diffã§ã‚ã‹ã‚‹ï¼‰
- âœ… ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ãŒç†è§£ã§ãã‚‹è¨€è‘‰ã‚’ä½¿ã†
- âœ… æœªæ¥ã®è‡ªåˆ†ãŒç†è§£ã§ãã‚‹ã‚ˆã†æ›¸ã
- âœ… é »ç¹ã«ã‚³ãƒŸãƒƒãƒˆï¼ˆå®Œç’§ã«ãªã‚‹å‰ã«ã‚³ãƒŸãƒƒãƒˆã€å…¬é–‹å‰ã«æ•´ç†ï¼‰

**DON'T:**
- âŒ "WIP", "fix", "update" ã ã‘ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
- âŒ è¤‡æ•°ã®ç„¡é–¢ä¿‚ãªå¤‰æ›´ã‚’1ã¤ã®ã‚³ãƒŸãƒƒãƒˆã«
- âŒ ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§è¬ç½ªã‚„è¨€ã„è¨³
- âŒ 65æ–‡å­—ã‚’è¶…ãˆã‚‹ã‚µãƒ–ã‚¸ã‚§ã‚¯ãƒˆè¡Œ

### 6. ã‚³ãƒŸãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

```bash
# 1. å¤‰æ›´å†…å®¹ã®ç¢ºèª
git status
git diff

# 2. è«–ç†çš„ãªå˜ä½ã§ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°
git add -p  # ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ã«ãƒãƒ³ã‚¯é¸æŠ
# ã¾ãŸã¯
git add specific-file.js  # ç‰¹å®šãƒ•ã‚¡ã‚¤ãƒ«

# 3. ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ã•ã‚ŒãŸå†…å®¹ã‚’ç¢ºèª
git diff --staged

# 4. ã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«ãƒã‚§ãƒƒã‚¯
git diff --staged | grep -iE '(api[_-]?key|secret|password|token|credential|private[_-]?key)'

# 5. ã‚³ãƒŸãƒƒãƒˆä½œæˆï¼ˆã“ã®ã‚¹ã‚­ãƒ«ã§ç”Ÿæˆã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½¿ç”¨ï¼‰
git commit -m "type(scope): description"

# 6. å¿…è¦ã«å¿œã˜ã¦ã‚³ãƒŸãƒƒãƒˆã‚’åˆ†å‰²ãƒ»æ•´ç†
git rebase -i HEAD~3  # ç›´è¿‘3ã‚³ãƒŸãƒƒãƒˆã‚’å¯¾è©±çš„ã«ç·¨é›†
```

### 7. ã‚³ãƒŸãƒƒãƒˆå¾Œã®ç¢ºèª

```bash
# ã‚³ãƒŸãƒƒãƒˆå±¥æ­´ã‚’ç¢ºèª
git log --oneline -5

# å„ã‚³ãƒŸãƒƒãƒˆã®å†…å®¹ã‚’ç¢ºèª
git show HEAD
```

## Examples

### Example 1: æ©Ÿèƒ½è¿½åŠ 
```
feat(slack): add message reaction handler

Implement handler for slack message reactions to trigger
workflow events. Includes event parsing and validation.
```

### Example 2: ãƒã‚°ä¿®æ­£
```
fix(api): prevent duplicate webhook deliveries

Add idempotency check using request IDs to prevent
processing the same webhook multiple times.

Closes #234
```

### Example 3: ç ´å£Šçš„å¤‰æ›´
```
feat(auth)!: migrate to token-based authentication

Replace session-based auth with JWT tokens for improved
scalability and stateless architecture.

BREAKING CHANGE: Session cookies are no longer supported.
Clients must update to use Authorization header with JWT.
```

### Example 4: è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è«–ç†çš„ã«åˆ†å‰²

**ã‚·ãƒŠãƒªã‚ª:** `auth.ts` ã¨ `api.ts` ã«å¤‰æ›´ãŒã‚ã‚‹å ´åˆ

```bash
# auth.ts ã®å¤‰æ›´ã®ã¿ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°
git add auth.ts
git commit -m "feat(auth): add password validation"

# api.ts ã®å¤‰æ›´ã‚’ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°
git add api.ts
git commit -m "refactor(api): extract error handler"
```

## ã‚³ãƒŸãƒƒãƒˆå®Ÿè¡Œæ™‚ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

ç§ï¼ˆClaudeï¼‰ãŒã‚³ãƒŸãƒƒãƒˆã‚’ææ¡ˆã™ã‚‹å‰ã«ç¢ºèªã™ã‚‹ã“ã¨:

- [ ] git diff --staged ã§å¤‰æ›´å†…å®¹ã‚’ç¢ºèªæ¸ˆã¿
- [ ] å¤‰æ›´ã¯1ã¤ã®è«–ç†çš„ãªå˜ä½ã‹ï¼Ÿï¼ˆãã†ã§ãªã‘ã‚Œã°åˆ†å‰²ã‚’ææ¡ˆï¼‰
- [ ] ã‚³ãƒŸãƒƒãƒˆå¾Œã‚‚ã‚³ãƒ¼ãƒ‰ãŒå®Ÿè¡Œå¯èƒ½ã‹ï¼Ÿ
- [ ] ã‚¯ãƒ¬ãƒ‡ãƒ³ã‚·ãƒ£ãƒ«æƒ…å ±ãŒå«ã¾ã‚Œã¦ã„ãªã„ã‹ï¼Ÿ
- [ ] Conventional Commits ä»•æ§˜ã«æº–æ‹ ã—ã¦ã„ã‚‹ã‹ï¼Ÿ
- [ ] Subject line ã¯50æ–‡å­—ä»¥å†…ã‹ï¼Ÿ
- [ ] Bodyï¼ˆå¿…è¦ãªå ´åˆï¼‰ã¯72æ–‡å­—ã§æŠ˜ã‚Šè¿”ã—ã¦ã„ã‚‹ã‹ï¼Ÿ

## å‚è€ƒãƒªãƒ³ã‚¯

- [Conventional Commits ä»•æ§˜](https://www.conventionalcommits.org/)
- [Atomic Commits ã‚¬ã‚¤ãƒ‰](https://www.freshconsulting.com/insights/blog/atomic-commits/)
- [Git Best Practices](https://sethrobertson.github.io/GitBestPractices/)

## Notes

ã“ã®ã‚¹ã‚­ãƒ«ã¯ä»¥ä¸‹ã®å ´åˆã«è‡ªå‹•çš„ã«èµ·å‹•ã•ã‚Œã¾ã™:
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚³ãƒŸãƒƒãƒˆã‚’ä½œæˆã—ãŸã„æ™‚
- "commit" ã‚„ "ã‚³ãƒŸãƒƒãƒˆ" ã¨ã„ã†å˜èªã‚’å«ã‚€ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
- git ã®å¤‰æ›´ã‚’ãƒ¬ãƒ“ãƒ¥ãƒ¼ã™ã‚‹æ™‚

---

y

---

ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã«åå¿œã—ãªã„

---

è¨­å®šè²·ãˆãŸã‚ã¨ã£ã¦ã€inviteã®ã—ç›´ã—å¿…è¦ï¼Ÿï¼Ÿ

---

ã‚“ãƒ¼ã‚„ã£ãŸã‘ã©åå¿œã—ãªã„

---

$ npm run dev:slack

> mastra-slack-agent@1.0.0 dev:slack
> tsx --watch src/index.ts

Starting Mastra Slack Agent...
âš¡ï¸ Slack Bolt app is running in Socket Mode!
ğŸš€ Application is ready!
ã—ã‹ã§ã¦ãªã„

---

è¡¨ç¤ºã•ã‚Œãªã„

---

inviteã¯ã—ãŸã‚ˆ

---

@mastra-dev hello     â† ã“ã‚Œãªã‚‰ OKï¼ˆ1ã¤ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‰
ã«ãªã£ã¦ã‚‹

---

ã†ã”ã„ãŸï¼